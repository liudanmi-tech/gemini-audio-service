# 配置 API 地址和测试项目

## ✅ 已完成
- [x] 添加 Alamofire 依赖
- [x] 设置 Deployment Target 为 iOS 16.0
- [x] 添加麦克风权限

## 📋 下一步：配置 API 地址

### 步骤 1: 打开 NetworkManager.swift

1. **在项目导航器中，找到 `Services` 文件夹**

2. **展开 `Services` 文件夹**

3. **双击打开 `NetworkManager.swift` 文件**

### 步骤 2: 找到 baseURL

1. **在代码中，找到这一行**（大约在第 17 行）：
   ```swift
   private let baseURL = "http://localhost:8001/api/v1"
   ```

2. **根据你的情况修改**：

   **情况 A: 后端运行在本地 Mac，使用模拟器测试**
   ```swift
   private let baseURL = "http://localhost:8001/api/v1"
   ```
   - 保持不变即可

   **情况 B: 后端运行在服务器**
   ```swift
   private let baseURL = "http://your-server-ip:8001/api/v1"
   ```
   - 将 `your-server-ip` 替换为实际 IP 地址
   - 例如：`http://192.168.1.100:8001/api/v1`

   **情况 C: 使用真机测试，后端在 Mac 上**
   - 不能使用 `localhost`
   - 需要找到 Mac 的 IP 地址：
     1. 打开 `系统设置`（或 `系统偏好设置`）
     2. 点击 `网络`
     3. 查看当前连接的网络，找到 IP 地址（如 `192.168.1.100`）
   - 修改为：
   ```swift
   private let baseURL = "http://192.168.1.100:8001/api/v1"
   ```
   - 将 `192.168.1.100` 替换为你的 Mac IP 地址

### 步骤 3: 保存文件

1. **按 `Cmd + S` 保存文件**

2. **完成！**

---

## 🧪 测试编译

### 步骤 1: 清理项目（推荐）

1. **在 Xcode 中，选择 `Product` → `Clean Build Folder`**
   - 或按快捷键：`Shift + Cmd + K`

2. **等待清理完成**

### 步骤 2: 编译项目

1. **按 `Cmd + B` 编译项目**

2. **查看编译结果**：
   - 如果编译成功，底部会显示 "Build Succeeded"
   - 如果有错误，底部会显示红色错误信息

### 步骤 3: 检查编译错误

如果编译报错，常见错误和解决方法：

#### 错误 1: "No such module 'Alamofire'"

**解决方法**：
1. 检查 `Package Dependencies` 标签中是否能看到 Alamofire
2. 如果看不到，重新添加 Alamofire 依赖
3. 清理项目后重新编译

#### 错误 2: "Cannot find type 'Task'"

**解决方法**：
1. 检查 `Models/Task.swift` 是否已添加到项目（蓝色图标）
2. 如果没有，右键点击 `Models` 文件夹 → `Add Files...` → 选择 `Task.swift`

#### 错误 3: "Use of unresolved identifier"

**解决方法**：
1. 检查所有文件是否都已添加到项目
2. 检查 import 语句是否正确
3. 清理项目后重新编译

---

## 🚀 运行项目

### 如果编译成功：

1. **选择模拟器**：
   - 在顶部工具栏，点击设备选择器
   - 选择 **iPhone 15 Pro** 或任意 iOS 16+ 模拟器

2. **运行项目**：
   - 点击左上角的 **▶** 按钮
   - 或按快捷键：`Cmd + R`

3. **等待编译和启动**：
   - 第一次运行可能需要几分钟
   - 模拟器会自动启动并运行 APP

4. **测试功能**：
   - 点击录制按钮测试录音
   - 查看任务列表（如果没有后端，会显示空状态）

---

## ✅ 完成检查清单

完成所有配置后，检查：

- [ ] Alamofire 已安装（在 Package Dependencies 中可见）
- [ ] Deployment Target 设置为 iOS 16.0
- [ ] 麦克风权限已添加（在 Info 标签中可见）
- [ ] API 地址已配置（NetworkManager.swift 中的 baseURL）
- [ ] 项目可以编译通过（`Cmd + B` 无错误）
- [ ] APP 可以在模拟器上运行

---

## 🆘 如果遇到问题

### 编译错误

1. **查看 Xcode 底部的错误信息**
2. **点击红色错误标记，查看详细说明**
3. **按照提示修复问题**
4. **如果解决不了，告诉我具体的错误信息**

### 运行时错误

1. **查看 Xcode 底部的控制台输出**
2. **查看错误信息**
3. **告诉我具体的错误信息**

---

## 📝 下一步开发

完成基础功能后，可以继续实现：

1. **任务详情页完整功能**
   - 对话段落展示
   - 策略建议显示
   - 人物筛选

2. **优化功能**
   - 下拉刷新优化
   - 加载状态提示
   - 错误提示优化

3. **其他模块**
   - 状态模块（老黄牛 Avatar）
   - 档案模块（说话人管理）

---

**现在可以开始配置 API 地址和测试编译了！**

如果遇到任何问题，告诉我具体的错误信息，我会帮你解决。

