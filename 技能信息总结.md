# Session 技能信息总结

## Session ID
```
14979abf-41a7-4d00-a2f8-bfe0cebfffab
```

## 根据日志分析

从服务器日志可以看到：

```
2026-01-19 17:10:43,890 - __main__ - INFO - 步骤1: 场景识别...
2026-01-19 17:10:50,076 - __main__ - INFO - 场景识别结果: primary_scene=workplace, scenes=1
2026-01-19 17:10:50,076 - __main__ - INFO - 步骤2: 技能匹配...
2026-01-19 17:10:50,400 - skills.router - DEBUG - 技能匹配：获取到 4 个启用的技能
2026-01-19 17:10:50,400 - skills.router - INFO - 技能匹配：primary_scene=workplace, scenes数量=1, min_confidence=0.5
2026-01-19 17:10:50,401 - skills.router - INFO - 技能匹配完成：匹配到 1 个技能
2026-01-19 17:11:13,102 - __main__ - INFO - 策略分析生成成功
```

## 结论

**匹配到的技能**: `workplace_jungle` (职场丛林法则)

**原因**:
- 场景识别结果: `primary_scene=workplace`
- 根据场景类别 `workplace`，匹配到 `workplace_jungle` 技能（category=workplace）

## 技能详情

### 技能ID
```
workplace_jungle
```

### 技能名称
```
职场丛林法则
```

### 技能描述
适用于职场沟通、上下级关系、同事协作等场景的策略分析技能

### 技能分类
```
workplace
```

### 优先级
```
100
```

### SKILL.md 完整内容

见文件: `skills/workplace_jungle/SKILL.md`

## 查看方式

### 方式1: 查看数据库

```bash
ssh admin@47.79.254.213
cd ~/gemini-audio-service
source venv/bin/activate

python3 << 'PYEOF'
import asyncio
import asyncpg
import os
from dotenv import load_dotenv
from urllib.parse import urlparse

load_dotenv()

async def check():
    database_url = os.getenv("DATABASE_URL", "")
    if "postgresql+asyncpg://" in database_url:
        database_url = database_url.replace("postgresql+asyncpg://", "postgresql://")
    
    parsed = urlparse(database_url)
    
    conn = await asyncpg.connect(
        host=parsed.hostname or 'localhost',
        port=parsed.port or 5432,
        user=parsed.username or 'postgres',
        password=parsed.password or 'postgres',
        database=parsed.path.lstrip('/') or 'gemini_audio_db'
    )
    
    session_id = "14979abf-41a7-4d00-a2f8-bfe0cebfffab"
    
    result = await conn.fetchrow("""
        SELECT 
            applied_skills,
            scene_category,
            scene_confidence
        FROM strategy_analysis
        WHERE session_id = $1
    """, session_id)
    
    if result:
        print("技能信息:")
        print(f"  applied_skills: {result['applied_skills']}")
        print(f"  scene_category: {result['scene_category']}")
        print(f"  scene_confidence: {result['scene_confidence']}")
    else:
        print("未找到策略分析数据")
    
    await conn.close()

asyncio.run(check())
PYEOF
```

### 方式2: 查看技能文件

```bash
ssh admin@47.79.254.213
cat ~/gemini-audio-service/skills/workplace_jungle/SKILL.md
```

### 方式3: 使用脚本

```bash
bash 查看技能详情.sh
```
